# ğŸ¢ ESTRUCTURA EMPRESARIAL - DISARMINK S.L.

## ğŸ“‹ RESUMEN EJECUTIVO

Sistema de configuraciÃ³n de empresas completamente implementado con la estructura jerÃ¡rquica real de **Disarmink S.L.** operando bajo el nombre comercial **"Hoy Pecamos"** con dos marcas: **Modomio** (pizzas) y **Blackburguer** (hamburguesas), cada una con puntos de venta en Tiana y Badalona.

---

## ğŸ—ï¸ ESTRUCTURA JERÃRQUICA

```
ğŸ“¦ DISARMINK S.L. [EMP-001]
    â”‚
    â”œâ”€ ğŸª Nombre Comercial: "Hoy Pecamos"
    â”œâ”€ ğŸ“„ CIF: B67284315
    â”œâ”€ ğŸ“ Domicilio Fiscal: Avenida Onze Setembre, 1, 08391 Tiana, Barcelona
    â”‚
    â”œâ”€ ğŸ• MARCA: Modomio [MRC-001 / MRC-MIO]
    â”‚   â”œâ”€ ğŸ“ Punto de Venta: Tiana [PDV-TIA-MIO]
    â”‚   â”‚   â”œâ”€ DirecciÃ³n: Passeig de la Vilesa, 6, 08391 Tiana, Barcelona
    â”‚   â”‚   â”œâ”€ TelÃ©fono: +34 933 456 789
    â”‚   â”‚   â””â”€ Email: tiana.modomio@hoypecamos.com
    â”‚   â”‚
    â”‚   â””â”€ ğŸ“ Punto de Venta: Badalona [PDV-BAD-MIO]
    â”‚       â”œâ”€ DirecciÃ³n: Carrer del Doctor Robert, 75, 08915 Badalona, Barcelona
    â”‚       â”œâ”€ TelÃ©fono: +34 933 456 790
    â”‚       â””â”€ Email: badalona.modomio@hoypecamos.com
    â”‚
    â””â”€ ğŸ” MARCA: Blackburguer [MRC-002 / MRC-BBG]
        â”œâ”€ ğŸ“ Punto de Venta: Tiana [PDV-TIA-BBG]
        â”‚   â”œâ”€ DirecciÃ³n: Passeig de la Vilesa, 6, 08391 Tiana, Barcelona
        â”‚   â”œâ”€ TelÃ©fono: +34 933 456 791
        â”‚   â””â”€ Email: tiana.blackburguer@hoypecamos.com
        â”‚
        â””â”€ ğŸ“ Punto de Venta: Badalona [PDV-BAD-BBG]
            â”œâ”€ DirecciÃ³n: Carrer del Doctor Robert, 75, 08915 Badalona, Barcelona
            â”œâ”€ TelÃ©fono: +34 933 456 792
            â””â”€ Email: badalona.blackburguer@hoypecamos.com
```

---

## ğŸ’³ CUENTAS BANCARIAS

| ID | IBAN | Alias |
|----|------|-------|
| CTA-001 | ES91 2100 0418 4502 0005 1332 | Cuenta Principal Disarmink |
| CTA-002 | ES76 0128 0123 4501 0006 7890 | Cuenta Operativa Hoy Pecamos |

---

## ğŸ“Š DETALLES POR PUNTO DE VENTA

### ğŸ• Modomio Tiana
- **ID:** PDV-TIA-MIO
- **DirecciÃ³n:** Passeig de la Vilesa, 6, 08391 Tiana, Barcelona
- **Horario:** 12:00 - 23:00
- **Arrendador:** Inmobiliaria Costa Maresme SL
- **Alquiler:** 1.800 â‚¬/mes
- **Vencimiento Contrato:** 31/12/2026
- **Licencias:**
  - Licencia de Actividad: LIC-TIA-2022-00089 (vence 30/06/2027)
  - Licencia Sanitaria: SAN-TIA-2022-00234 (vence 15/06/2026)
- **Comunidad de Vecinos:** SÃ­ (Joan Ferrer - +34 933 123 456)

### ğŸ• Modomio Badalona
- **ID:** PDV-BAD-MIO
- **DirecciÃ³n:** Carrer del Doctor Robert, 75, 08915 Badalona, Barcelona
- **Horario:** 12:00 - 23:30
- **Arrendador:** GestiÃ³n Badalona Locales SA
- **Alquiler:** 2.200 â‚¬/mes
- **Vencimiento Contrato:** 31/03/2027
- **Licencias:**
  - Licencia de Actividad: LIC-BAD-2023-00156 (vence 31/03/2028)
  - Licencia Sanitaria: SAN-BAD-2023-00401 (vence 28/02/2027)
- **Comunidad de Vecinos:** SÃ­ (Ana MartÃ­nez - +34 933 234 567)

### ğŸ” Blackburguer Tiana
- **ID:** PDV-TIA-BBG
- **DirecciÃ³n:** Passeig de la Vilesa, 6, 08391 Tiana, Barcelona
- **Horario:** 12:00 - 00:00
- **Arrendador:** Inmobiliaria Costa Maresme SL
- **Alquiler:** 1.800 â‚¬/mes
- **Vencimiento Contrato:** 31/12/2026
- **Licencias:**
  - Licencia de Actividad: LIC-TIA-2023-00112 (vence 30/09/2028)
  - Licencia Sanitaria: SAN-TIA-2023-00289 (vence 15/08/2027)
- **Comunidad de Vecinos:** SÃ­ (Joan Ferrer - +34 933 123 456)

### ğŸ” Blackburguer Badalona
- **ID:** PDV-BAD-BBG
- **DirecciÃ³n:** Carrer del Doctor Robert, 75, 08915 Badalona, Barcelona
- **Horario:** 12:00 - 00:30
- **Arrendador:** GestiÃ³n Badalona Locales SA
- **Alquiler:** 2.200 â‚¬/mes
- **Vencimiento Contrato:** 31/03/2027
- **Licencias:**
  - Licencia de Actividad: LIC-BAD-2024-00034 (vence 30/04/2029)
  - Licencia Sanitaria: SAN-BAD-2024-00098 (vence 31/03/2028)
- **Comunidad de Vecinos:** SÃ­ (Ana MartÃ­nez - +34 933 234 567)

---

## ğŸ“‚ ARCHIVOS ACTUALIZADOS

### âœ… ConfiguraciÃ³n Completa

1. **`/components/gerente/ConfiguracionEmpresas.tsx`** (NUEVO)
   - Componente principal de gestiÃ³n de empresas
   - Vista jerÃ¡rquica con acordeones
   - Muestra empresa â†’ marcas â†’ puntos de venta
   - InformaciÃ³n fiscal, cuentas bancarias y documentaciÃ³n
   - Modal para crear nuevas empresas

2. **`/components/gerente/ConfiguracionGerente.tsx`**
   - Integrado el nuevo componente ConfiguracionEmpresas
   - Actualizado el filtro "puntosVenta" â†’ "Empresas"
   - Datos mock actualizados con estructura Disarmink

3. **`/components/filtros/FiltroUniversalUDAR.tsx`**
   - Datos mock actualizados:
     - Empresa: "Disarmink S.L." [EMP-001]
     - Marcas: "Modomio" [MRC-MIO] y "Blackburguer" [MRC-BBG]
     - Puntos de venta con IDs correctos

4. **`/EJEMPLO_INTEGRACION_DASHBOARD.tsx`**
   - Actualizado el desglose de ventas con 4 puntos de venta
   - Datos de ejemplo para Modomio y Blackburguer

5. **`/EJEMPLO_INTEGRACION_PERMISOS_EMPLEADO.tsx`**
   - Actualizado datos de empleados con nueva estructura

6. **`/components/agente-externo/PanelAgenteExterno.tsx`**
   - Actualizado nombre de empresa en lista de empresas permitidas

7. **`/components/gerente/ModalCrearEmpresa.tsx`**
   - Modal existente para crear empresas
   - Permite crear empresa â†’ marcas â†’ puntos de venta â†’ cuentas bancarias
   - ValidaciÃ³n de datos completa

---

## ğŸ¯ FUNCIONALIDADES IMPLEMENTADAS

### âœ… GestiÃ³n de Empresas
- âœ… Vista jerÃ¡rquica completa (Empresa â†’ Marca â†’ Punto de Venta)
- âœ… InformaciÃ³n fiscal detallada
- âœ… GestiÃ³n de cuentas bancarias
- âœ… DocumentaciÃ³n por punto de venta (alquiler, licencias, comunidad)
- âœ… Estados activo/inactivo
- âœ… Colores de identidad por marca

### âœ… Modal de CreaciÃ³n
- âœ… Crear empresa con datos fiscales
- âœ… AÃ±adir mÃºltiples marcas con colores
- âœ… AÃ±adir puntos de venta vinculados a marcas
- âœ… AÃ±adir cuentas bancarias
- âœ… Validaciones completas
- âœ… Regla: no eliminar marca con puntos de venta vinculados

### âœ… Filtros JerÃ¡rquicos
- âœ… Filtro universal por empresa/marca/punto de venta
- âœ… SelecciÃ³n mÃºltiple de contextos
- âœ… SincronizaciÃ³n con todos los mÃ³dulos
- âœ… Datos mock actualizados en todos los componentes

---

## ğŸ‘¥ VISIBILIDAD POR ROL

### ğŸ© GERENTE
- âœ… **Acceso completo** a ConfiguraciÃ³n > Empresas
- âœ… Puede ver la estructura jerÃ¡rquica completa
- âœ… Puede crear, editar y gestionar empresas
- âœ… Puede crear marcas y puntos de venta
- âœ… Puede gestionar cuentas bancarias
- âœ… Puede ver toda la documentaciÃ³n

### ğŸ‘· TRABAJADOR
- âŒ **No tiene acceso** a la configuraciÃ³n de empresas
- â„¹ï¸ Solo ve los datos de su punto de venta asignado en otros mÃ³dulos

### ğŸ›’ CLIENTE
- âŒ **No tiene acceso** a la configuraciÃ³n de empresas
- â„¹ï¸ Solo ve informaciÃ³n pÃºblica de las tiendas en el mÃ³dulo "QuiÃ©nes Somos"

---

## ğŸ”„ SINCRONIZACIÃ“N DE DATOS

Todos los componentes que usan la estructura empresa/marca/punto de venta estÃ¡n sincronizados:

1. **ConfiguracionEmpresas.tsx** â†’ GestiÃ³n completa
2. **FiltroUniversalUDAR.tsx** â†’ Filtro jerÃ¡rquico
3. **Dashboard360.tsx** â†’ VisualizaciÃ³n de mÃ©tricas
4. **EJEMPLO_INTEGRACION_DASHBOARD.tsx** â†’ DocumentaciÃ³n de API
5. **Presupuestos** â†’ Filtros por marca y punto de venta
6. **GestiÃ³n de Personal** â†’ AsignaciÃ³n de empleados
7. **Agentes Externos** â†’ VinculaciÃ³n a empresas

---

## ğŸ“ PRÃ“XIMOS PASOS RECOMENDADOS

### ğŸ”´ Prioridad Alta
1. Conectar con backend real para persistir datos
2. Implementar endpoints de API para CRUD de empresas/marcas/PDV
3. AÃ±adir permisos granulares por rol (gerente_empresa, gerente_marca, gerente_pdv)

### ğŸŸ¡ Prioridad Media
4. AÃ±adir validaciÃ³n de CIF en tiempo real
5. Implementar carga de documentos (licencias, contratos)
6. AÃ±adir historial de cambios en configuraciÃ³n
7. Implementar sistema de notificaciones para vencimientos

### ğŸŸ¢ Mejoras Futuras
8. GrÃ¡ficos de rendimiento por marca/punto de venta
9. Comparativas entre puntos de venta
10. Dashboard especÃ­fico por marca
11. GestiÃ³n de personal por punto de venta desde el mismo mÃ³dulo

---

## ğŸ’¾ FORMATO DE DATOS PARA API

### Estructura de Empresa
```typescript
interface Empresa {
  id: string;                    // EMP-001
  codigo_empresa: string;        // DIS-001
  nombre_fiscal: string;         // Disarmink S.L.
  cif: string;                   // B67284315
  nombre_comercial: string;      // Hoy Pecamos
  domicilio_fiscal: string;      // Avenida Onze Setembre, 1, 08391 Tiana, Barcelona
  activo: boolean;               // true
  created_at: timestamp;
  updated_at: timestamp;
}
```

### Estructura de Marca
```typescript
interface Marca {
  id: string;                    // MRC-001
  codigo_marca: string;          // MRC-MIO
  nombre: string;                // Modomio
  color_identidad: string;       // #FF6B35
  empresa_id: string;            // EMP-001 (FK)
  activo: boolean;
  created_at: timestamp;
  updated_at: timestamp;
}
```

### Estructura de Punto de Venta
```typescript
interface PuntoVenta {
  id: string;                    // PDV-TIA-MIO
  codigo_pdv: string;            // PDV-TIA-MIO
  nombre_comercial: string;      // Tiana
  direccion: string;             // Passeig de la Vilesa, 6, 08391 Tiana, Barcelona
  telefono: string;              // +34 933 456 789
  email: string;                 // tiana.modomio@...
  horario: string;               // 12:00 - 23:00
  marca_id: string;              // MRC-001 (FK)
  empresa_id: string;            // EMP-001 (FK)
  activo: boolean;
  created_at: timestamp;
  updated_at: timestamp;
}
```

---

## âœ… ESTADO ACTUAL

- âœ… **Frontend:** Implementado al 100%
- âœ… **Datos Mock:** Completamente actualizados
- âœ… **UI/UX:** Interfaz completa y funcional
- âœ… **SincronizaciÃ³n:** Todos los componentes actualizados
- â³ **Backend:** Pendiente de implementaciÃ³n
- â³ **Persistencia:** Datos en memoria (mock)

---

**Ãšltima actualizaciÃ³n:** 28 de noviembre de 2025
**VersiÃ³n:** 1.0
**Estado:** âœ… Completamente Funcional (Frontend)
